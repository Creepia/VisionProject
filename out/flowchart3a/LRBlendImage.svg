<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1070px" preserveAspectRatio="none" style="width:613px;height:1070px;background:#FFFFFF;" version="1.1" viewBox="0 0 613 1070" width="613px" zoomAndPan="magnify"><defs/><g><rect fill="#F1F1F1" height="36.3887" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="44" x="284.5" y="11"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="24" x="294.5" y="34.752">start</text><polygon fill="#F1F1F1" points="179.5,67.3887,443.5,67.3887,433.5,103.7773,169.5,103.7773" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="28" x="179.5" y="91.1406">input</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="226" x="207.5" y="91.1406">: img1, img2, window, kernel_size, sigma</text><rect fill="#F1F1F1" height="52.7773" style="stroke:#181818;stroke-width:0.5;" width="486" x="63.5" y="123.7773"/><line style="stroke:#181818;stroke-width:0.5;" x1="68.5" x2="68.5" y1="123.7773" y2="176.5547"/><line style="stroke:#181818;stroke-width:0.5;" x1="544.5" x2="544.5" y1="123.7773" y2="176.5547"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="466" x="73.5" y="147.5293">[g_pyr1, l_pyr1] = generate_pyramids(img1, 'kernel_size', kernel_size, 'sigma', sigma)</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="466" x="73.5" y="163.918">[g_pyr2, l_pyr2] = generate_pyramids(img2, 'kernel_size', kernel_size, 'sigma', sigma)</text><rect fill="#F1F1F1" height="36.3887" style="stroke:#181818;stroke-width:0.5;" width="103" x="255" y="196.5547"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="83" x="265" y="220.3066">N=size(g_pyr1)</text><rect fill="none" height="703.7687" style="stroke:#000000;stroke-width:1.5;" width="591" x="11" y="242.9434"/><path d="M147,242.9434 L147,255.0635 L137,265.0635 L11,265.0635 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126" x="14" y="259.9873">Build Blend Pyramid</text><rect fill="#F1F1F1" height="36.3887" style="stroke:#181818;stroke-width:0.5;" width="43" x="285" y="282.0635"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="23" x="295" y="305.8154">i = 1</text><rect fill="#F1F1F1" height="36.3887" style="stroke:#181818;stroke-width:0.5;" width="152" x="230.5" y="401.4751"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="129" x="240.5" y="425.2271">[m, n, c] = size(l_pyr1{i})</text><rect fill="#F1F1F1" height="52.7773" style="stroke:#181818;stroke-width:0.5;" width="197" x="208" y="457.8638"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="174" x="218" y="481.6157">start_point=round(n*window(1))</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="174" x="218" y="498.0044">stop_point=round(n*window(2))</text><rect fill="#F1F1F1" height="69.166" style="stroke:#181818;stroke-width:0.5;" width="535" x="39" y="530.6411"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="149" x="49" y="554.3931">blend_weight = zeros(m, n)</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="515" x="49" y="570.7817">blend_weight(:, start_point:stop_point) = repmat(linspace(0, 1, stop_point-start_point+1), m, 1)</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="179" x="49" y="587.1704">blend_weight(:, stop_point:n) = 1</text><rect fill="#F1F1F1" height="36.3887" style="stroke:#181818;stroke-width:0.5;" width="275" x="169" y="685.1573"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="252" x="179" y="708.9093">blend_weight = repmat(blend_weight, [1, 1, c])</text><polygon fill="#F1F1F1" points="306.5,622.1344,330.5,641.6459,306.5,661.1573,282.5,641.6459" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="22" x="310.5" y="673.7633">True</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="24" x="294.5" y="646.7404">c&gt;1?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="26" x="330.5" y="631.7174">False</text><rect fill="#F1F1F1" height="36.3887" style="stroke:#181818;stroke-width:0.5;" width="515" x="49" y="763.546"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="492" x="59" y="787.298">blend_pyr(i,:) = { (1 - blend_weight) .* double(l_pyr1{i}) + blend_weight .* double(l_pyr2{i}) }</text><rect fill="#F1F1F1" height="36.3887" style="stroke:#181818;stroke-width:0.5;" width="40" x="286.5" y="819.9347"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="17" x="296.5" y="843.6866">i++</text><polygon fill="#F1F1F1" points="306.5,338.4521,335,357.9636,306.5,377.4751,278,357.9636" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="22" x="310.5" y="390.0811">True</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="33" x="290" y="363.0581">i &lt;= N?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="26" x="252" y="348.0352">False</text><rect fill="#F1F1F1" height="36.3887" style="stroke:#181818;stroke-width:0.5;" width="247" x="183" y="898.3234"/><line style="stroke:#181818;stroke-width:0.5;" x1="188" x2="188" y1="898.3234" y2="934.712"/><line style="stroke:#181818;stroke-width:0.5;" x1="425" x2="425" y1="898.3234" y2="934.712"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="224" x="193" y="922.0753">output=rebuild_from_pyramid(blend_pyr)</text><polygon fill="#F1F1F1" points="266,966.712,357,966.712,347,1003.1007,256,1003.1007" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="38" x="266" y="990.464">Output</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="40" x="304" y="990.464">: output</text><rect fill="#F1F1F1" height="36.3887" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="41" x="286" y="1023.1007"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="21" x="296" y="1046.8527">end</text><line style="stroke:#181818;stroke-width:1.0;" x1="306.5" x2="306.5" y1="47.3887" y2="67.3887"/><polygon fill="#181818" points="302.5,57.3887,306.5,67.3887,310.5,57.3887,306.5,61.3887" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="306.5" x2="306.5" y1="103.7773" y2="123.7773"/><polygon fill="#181818" points="302.5,113.7773,306.5,123.7773,310.5,113.7773,306.5,117.7773" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="306.5" x2="306.5" y1="176.5547" y2="196.5547"/><polygon fill="#181818" points="302.5,186.5547,306.5,196.5547,310.5,186.5547,306.5,190.5547" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="306.5" x2="306.5" y1="437.8638" y2="457.8638"/><polygon fill="#181818" points="302.5,447.8638,306.5,457.8638,310.5,447.8638,306.5,451.8638" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="306.5" x2="306.5" y1="510.6411" y2="530.6411"/><polygon fill="#181818" points="302.5,520.6411,306.5,530.6411,310.5,520.6411,306.5,524.6411" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="306.5" x2="306.5" y1="661.1573" y2="685.1573"/><polygon fill="#181818" points="302.5,675.1573,306.5,685.1573,310.5,675.1573,306.5,679.1573" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="330.5" x2="454" y1="641.6459" y2="641.6459"/><line style="stroke:#181818;stroke-width:1.0;" x1="454" x2="454" y1="641.6459" y2="743.546"/><polygon fill="#181818" points="450,733.546,454,743.546,458,733.546,454,737.546" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="454" x2="306.5" y1="743.546" y2="743.546"/><line style="stroke:#181818;stroke-width:1.0;" x1="306.5" x2="306.5" y1="743.546" y2="748.546"/><line style="stroke:#181818;stroke-width:1.0;" x1="306.5" x2="306.5" y1="721.546" y2="743.546"/><polygon fill="#181818" points="302.5,733.546,306.5,743.546,310.5,733.546,306.5,737.546" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="306.5" x2="306.5" y1="599.8071" y2="622.1344"/><polygon fill="#181818" points="302.5,612.1344,306.5,622.1344,310.5,612.1344,306.5,616.1344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="306.5" x2="306.5" y1="748.546" y2="763.546"/><polygon fill="#181818" points="302.5,753.546,306.5,763.546,310.5,753.546,306.5,757.546" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="306.5" x2="306.5" y1="799.9347" y2="819.9347"/><polygon fill="#181818" points="302.5,809.9347,306.5,819.9347,310.5,809.9347,306.5,813.9347" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="306.5" x2="306.5" y1="377.4751" y2="401.4751"/><polygon fill="#181818" points="302.5,391.4751,306.5,401.4751,310.5,391.4751,306.5,395.4751" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="306.5" x2="306.5" y1="856.3234" y2="866.3234"/><line style="stroke:#181818;stroke-width:1.0;" x1="306.5" x2="586" y1="866.3234" y2="866.3234"/><polygon fill="#181818" points="582,623.8071,586,613.8071,590,623.8071,586,619.8071" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="586" x2="586" y1="357.9636" y2="866.3234"/><line style="stroke:#181818;stroke-width:1.0;" x1="586" x2="335" y1="357.9636" y2="357.9636"/><polygon fill="#181818" points="345,353.9636,335,357.9636,345,361.9636,341,357.9636" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="278" x2="27" y1="357.9636" y2="357.9636"/><polygon fill="#181818" points="23,609.8071,27,619.8071,31,609.8071,27,613.8071" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="27" x2="27" y1="357.9636" y2="878.3234"/><line style="stroke:#181818;stroke-width:1.0;" x1="27" x2="306.5" y1="878.3234" y2="878.3234"/><line style="stroke:#181818;stroke-width:1.0;" x1="306.5" x2="306.5" y1="878.3234" y2="898.3234"/><polygon fill="#181818" points="302.5,888.3234,306.5,898.3234,310.5,888.3234,306.5,892.3234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="306.5" x2="306.5" y1="318.4521" y2="338.4521"/><polygon fill="#181818" points="302.5,328.4521,306.5,338.4521,310.5,328.4521,306.5,332.4521" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="306.5" x2="306.5" y1="232.9434" y2="282.0635"/><polygon fill="#181818" points="302.5,272.0635,306.5,282.0635,310.5,272.0635,306.5,276.0635" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="306.5" x2="306.5" y1="934.712" y2="966.712"/><polygon fill="#181818" points="302.5,956.712,306.5,966.712,310.5,956.712,306.5,960.712" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="306.5" x2="306.5" y1="1003.1007" y2="1023.1007"/><polygon fill="#181818" points="302.5,1013.1007,306.5,1023.1007,310.5,1013.1007,306.5,1017.1007" style="stroke:#181818;stroke-width:1.0;"/><!--SRC=[bLDDRvmm4BtpA-QsDakQmj4fYPH-IBsabThR1Y42NdOKCCWsMYMR_UyT6pRGrVPG3dpCl7dpU3CspwZwGXSjb9sgq6AdVjcNHi9tPR2INx1eAHwOTzZd4-ohgaRaha4bWq0OMsXx4uWm9EnWmr00jdKSkNiImHvLrUqZU9PQoIOt-2eZC5YtnJKLR-gyVz44RlmpWnHggQGkh7I1eiNAi95kjM1OdV6jFE5g8kQFQkHD9jxadxp9V_6-1U8XTHasokPP490zrXi3zmCs5TmtKbNmS-m1Xm3e4aZzuyo_xtT8vZ64Joayt7500-ot7YJtMO_Uj16e24gdsdSRpJdWaKCsmxpnUT-Xigdk1bKn5OvkivYJ1yPs_ULqmXtHpFJaDETxYVNEKizNgJl3d0XYMUQO82VchcBkmAbCoxujBAErC7rHIlOnWjZXJvYhHUawvX5GX_XYXrE5K8utNch5BR3oDYRZx4wgS-ik_SqaQncDO1DxSMMsT5GsXYRphQ37J4bLk3stYiR1C19EtG5O35UmfEVm8OIg6oYs7DtwBz0v9l6OutB0k5vFdrGsxSr2dUW6ImSkrVB9RLw-rLrxMcxshfF3Mt1qf_E7HxlZETR1TI08S_C7]--></g></svg>